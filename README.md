Коллеги из ML-отдела планируют выкатывать новый алгоритм, рекомендующий нашим пользователям интересные посты. По результатам обсуждения были сделаны следующие выводы: Алгоритм добавляет пользователям 1-2 просмотра Вероятность того, что он сработает, составляет 90% Если у пользователя меньше 50 просмотров, то алгоритм не сработает. Возникает предположение, что увеличение числа просмотров приведёт и к увеличению лайков на пользователя.
### Можем ли мы обнаружить различия в среднем количестве лайков на пользователя?
Попробуем ответить на этот вопрос

### Для начала возьмем интересующие метрики и на их основе сгенерируем данные, на основании которых проведем AA-тест.
По результатам теста доля FPR равна 0.05375, что примерно равно значению альфа (0.05). Делаем вывод, что симуляция работает правильно.
Далее для ответа на поставленный вопрос создаем массив из 0, 1, 2, где:
* 0 - это пользователи, для которых алгоритм не сработал по одной из двух причин. Либо у него просмтров мало, либо ему просто не повезло и он попал в 10%. Возможно, даже оба варианта сразу
* 1 - один просмотр
* 2 - два просмотра
и считаем мощность.

Получается мощность где-то в районе 25.6%. Это чудовищно мало. Нужно дальше работать.

### Коллеги улучшили качество алгоритма и теперь он срабатывает на пользователях с числом просмотров от 30 и выше, после чего попросили опять посчитать мощность. 
Теперь у нас мощность около 41.7%. Это всё ещё очень мало. 

### Попробуем увеличить время проведения эксперимента до 2 недель.
Мощность где-то около 56%. Мы всё ближе к цели, но заветного порога в 80% мы ещё не достигли.

### Попробуем изменить подход и провести эксперимент только на тех пользователях, на которых сработал алгоритм. 
Получается где-то 64.3%. Ближе, но все равно не дотягиваем до 80%

### Вывод: после всех предпринятых попыток так и не получилось добраться до мощности в 80%.

### Есть несколько вариантов развития событий:
* отказаться от идеи эксперимента вообще. Раз у нас не хватает ресурсов для детекции такого изменения, то и смысла особо действовать нет;
* всё равно запустить эксперимент и надеяться на лучшее. Платой за это решение будет меньшая уверенность в полученных результатах;
* дорабатывать алгоритм, чтобы его эффект либо распространялся на большее число пользователей, либо чтобы он был больше.
* попробовать найти бОльшее количество пользователей и пересчитать симуляцию. может, вы всё-таки получится набрать достаточное количество
* поменять уровень значимости на более высокий. Платой за это будет большая вероятность ложноположительного результата.
